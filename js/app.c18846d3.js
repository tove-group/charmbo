(function(e){function t(t){for(var o,i,s=t[0],c=t[1],u=t[2],f=0,l=[];f<s.length;f++)i=s[f],Object.prototype.hasOwnProperty.call(a,i)&&a[i]&&l.push(a[i][0]),a[i]=0;for(o in c)Object.prototype.hasOwnProperty.call(c,o)&&(e[o]=c[o]);d&&d(t);while(l.length)l.shift()();return r.push.apply(r,u||[]),n()}function n(){for(var e,t=0;t<r.length;t++){for(var n=r[t],o=!0,i=1;i<n.length;i++){var s=n[i];0!==a[s]&&(o=!1)}o&&(r.splice(t--,1),e=c(c.s=n[0]))}return e}var o={},i={app:0},a={app:0},r=[];function s(e){return c.p+"js/"+({about:"about"}[e]||e)+"."+{about:"d4d404c9","chunk-043a9f70":"54a9111a","chunk-211848c6":"e332f76b","chunk-3a02ed3b":"32736391","chunk-40c5c0b8":"63ba5a7b","chunk-798c603b":"db50b5b3","chunk-e1d35382":"755d3122","chunk-7f16fb8f":"23f86759","chunk-6e20bed7":"2c644e28","chunk-548dc5b9":"4aa97863","chunk-5976137e":"d069f6f1","chunk-97708fe8":"1c4d1104","chunk-1e2fc82e":"1c2ba43f","chunk-791cca1d":"591aea33","chunk-95c548ec":"a5a2a5b5","chunk-def8c8ea":"dfe835be"}[e]+".js"}function c(t){if(o[t])return o[t].exports;var n=o[t]={i:t,l:!1,exports:{}};return e[t].call(n.exports,n,n.exports,c),n.l=!0,n.exports}c.e=function(e){var t=[],n={"chunk-043a9f70":1,"chunk-211848c6":1,"chunk-3a02ed3b":1,"chunk-40c5c0b8":1,"chunk-798c603b":1,"chunk-e1d35382":1,"chunk-7f16fb8f":1,"chunk-6e20bed7":1,"chunk-548dc5b9":1,"chunk-5976137e":1,"chunk-97708fe8":1,"chunk-1e2fc82e":1,"chunk-791cca1d":1,"chunk-95c548ec":1,"chunk-def8c8ea":1};i[e]?t.push(i[e]):0!==i[e]&&n[e]&&t.push(i[e]=new Promise((function(t,n){for(var o="css/"+({about:"about"}[e]||e)+"."+{about:"31d6cfe0","chunk-043a9f70":"ba8c5b7c","chunk-211848c6":"b4771c30","chunk-3a02ed3b":"5771d6bf","chunk-40c5c0b8":"a3ecb215","chunk-798c603b":"0e566ea5","chunk-e1d35382":"c4f060ae","chunk-7f16fb8f":"d8e49aba","chunk-6e20bed7":"3bd07d10","chunk-548dc5b9":"3fc9438e","chunk-5976137e":"48339651","chunk-97708fe8":"e6d362ae","chunk-1e2fc82e":"834da197","chunk-791cca1d":"2bd0ecbf","chunk-95c548ec":"7a9c28f1","chunk-def8c8ea":"bd71271a"}[e]+".css",a=c.p+o,r=document.getElementsByTagName("link"),s=0;s<r.length;s++){var u=r[s],f=u.getAttribute("data-href")||u.getAttribute("href");if("stylesheet"===u.rel&&(f===o||f===a))return t()}var l=document.getElementsByTagName("style");for(s=0;s<l.length;s++){u=l[s],f=u.getAttribute("data-href");if(f===o||f===a)return t()}var d=document.createElement("link");d.rel="stylesheet",d.type="text/css",d.onload=t,d.onerror=function(t){var o=t&&t.target&&t.target.src||a,r=new Error("Loading CSS chunk "+e+" failed.\n("+o+")");r.code="CSS_CHUNK_LOAD_FAILED",r.request=o,delete i[e],d.parentNode.removeChild(d),n(r)},d.href=a;var h=document.getElementsByTagName("head")[0];h.appendChild(d)})).then((function(){i[e]=0})));var o=a[e];if(0!==o)if(o)t.push(o[2]);else{var r=new Promise((function(t,n){o=a[e]=[t,n]}));t.push(o[2]=r);var u,f=document.createElement("script");f.charset="utf-8",f.timeout=120,c.nc&&f.setAttribute("nonce",c.nc),f.src=s(e);var l=new Error;u=function(t){f.onerror=f.onload=null,clearTimeout(d);var n=a[e];if(0!==n){if(n){var o=t&&("load"===t.type?"missing":t.type),i=t&&t.target&&t.target.src;l.message="Loading chunk "+e+" failed.\n("+o+": "+i+")",l.name="ChunkLoadError",l.type=o,l.request=i,n[1](l)}a[e]=void 0}};var d=setTimeout((function(){u({type:"timeout",target:f})}),12e4);f.onerror=f.onload=u,document.head.appendChild(f)}return Promise.all(t)},c.m=e,c.c=o,c.d=function(e,t,n){c.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},c.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},c.t=function(e,t){if(1&t&&(e=c(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(c.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var o in e)c.d(n,o,function(t){return e[t]}.bind(null,o));return n},c.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return c.d(t,"a",t),t},c.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},c.p="/charmbo/",c.oe=function(e){throw console.error(e),e};var u=window["webpackJsonp"]=window["webpackJsonp"]||[],f=u.push.bind(u);u.push=t,u=u.slice();for(var l=0;l<u.length;l++)t(u[l]);var d=f;r.push([0,"chunk-vendors"]),n()})({0:function(e,t,n){e.exports=n("56d7")},"031a":function(e,t,n){e.exports=n.p+"img/g8.b74a0c2a.svg"},"034f":function(e,t,n){"use strict";n("85ec")},"0645":function(e,t,n){e.exports=n.p+"img/g2.ac0580f4.svg"},"06f3":function(e,t,n){e.exports=n.p+"img/pair.00417407.svg"},"09dc":function(e,t,n){e.exports=n.p+"img/ba.c096ac20.svg"},1085:function(e,t,n){e.exports=n.p+"img/b9.5c8a4629.svg"},"1cf8":function(e,t,n){e.exports=n.p+"img/ga.a4b510ff.svg"},"1ee5":function(e,t,n){e.exports=n.p+"img/chat-active.374628e3.svg"},"2cbd":function(e,t,n){var o={"./b0.svg":"784b","./b1.svg":"5069","./b2.svg":"6f51","./b3.svg":"357d","./b4.svg":"b2f1","./b5.svg":"8d5b","./b6.svg":"c687","./b7.svg":"aee2","./b8.svg":"c467","./b9.svg":"1085","./ba.svg":"09dc","./bb.svg":"aa4d","./bc.svg":"7a6b","./bd.svg":"8975","./be.svg":"cccd","./bf.svg":"c2cd","./g0.svg":"94bb","./g1.svg":"a072","./g2.svg":"0645","./g3.svg":"c552","./g4.svg":"93cb","./g5.svg":"b121","./g6.svg":"c72a","./g7.svg":"609f","./g8.svg":"031a","./g9.svg":"f8df","./ga.svg":"1cf8","./gb.svg":"ac97","./gc.svg":"444a","./gd.svg":"d101","./ge.svg":"d91e","./gf.svg":"8fc6"};function i(e){var t=a(e);return n(t)}function a(e){if(!n.o(o,e)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return o[e]}i.keys=function(){return Object.keys(o)},i.resolve=a,e.exports=i,i.id="2cbd"},"357d":function(e,t,n){e.exports=n.p+"img/b3.3da633f4.svg"},"36a4":function(e,t,n){e.exports=n.p+"img/pair-active.cd240088.svg"},"444a":function(e,t,n){e.exports=n.p+"img/gc.6a8fe700.svg"},5069:function(e,t,n){e.exports=n.p+"img/b1.afa4e6bc.svg"},"56d7":function(e,t,n){"use strict";n.r(t);n("e260"),n("e6cf"),n("cca6"),n("a79d");var o=n("2b0e"),i=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("v-app",[n("v-main",[n("router-view")],1)],1)},a=[],r=18e5,s=3e3,c={name:"App",data:function(){return{userActivityThrottlerTimeout:null,userActivityTimeout:null}},methods:{inactiveUserAction:function(){window.socketConnect=!1,this.$socket.client.disconnect()},activateActivityTracker:function(){var e=this;window.addEventListener("beforeunload",(function(t){return e.inactiveUserAction(t)}),{capture:!0}),window.addEventListener("mousemove",this.userActivityThrottler),window.addEventListener("scroll",this.userActivityThrottler),window.addEventListener("keydown",this.userActivityThrottler),window.addEventListener("resize",this.userActivityThrottler)},deactivateActivityTracker:function(){var e=this;window.removeEventListener("beforeunload",(function(t){return e.inactiveUserAction(t)}),{capture:!0}),window.removeEventListener("mousemove",this.userActivityThrottler),window.removeEventListener("scroll",this.userActivityThrottler),window.removeEventListener("keydown",this.userActivityThrottler),window.removeEventListener("resize",this.userActivityThrottler)},resetUserActivityTimeout:function(){var e=this;clearTimeout(this.userActivityTimeout),this.userActivityTimeout=setTimeout((function(){e.inactiveUserAction(),e.$router.push({name:"login"})}),r)},userActivityThrottler:function(){var e=this;this.userActivityThrottlerTimeout||(this.userActivityThrottlerTimeout=setTimeout((function(){e.resetUserActivityTimeout(),clearTimeout(e.userActivityThrottlerTimeout),e.userActivityThrottlerTimeout=null}),s))}},beforeMount:function(){this.activateActivityTracker()},beforeDestroy:function(){this.deactivateActivityTracker(),clearTimeout(this.userActivityTimeout),clearTimeout(this.userActivityThrottlerTimeout)},created:function(){!window.socketConnect&&this.$store.state.userinfo&&this.$store.state.userinfo._id&&(this.$socket.client.connect(),window.socketConnect=!0,this.$socket.client.emit("regist_room",this.$store.state.userinfo._id))},sockets:{connect:function(){console.log("socket connected")},res:function(e){console.log("接收到服务端消息",e)},receive_message:function(e){console.log("receive_message :"+e);var t={friendsId:e.senderChatID,data:{sender:e.senderChatID,text:e.text,image:{file:e.image.file,fileName:e.image.fileName},imageUrl:null,createdAt:e.createdAt}};this.$store.dispatch("actionReceiveMessage",t)},user_status:function(e){console.log(e),this.$store.dispatch("actionOnlineStatus",{friendsId:e.user,onlineStatus:e.onlineStatus})},typing:function(e){this.$store.dispatch("actionTyping",{sender:e.sender,isTyping:e.isTyping})}}},u=c,f=(n("034f"),n("2877")),l=n("6544"),d=n.n(l),h=n("7496"),m=n("f6c4"),p=Object(f["a"])(u,i,a,!1,null,null,null),g=p.exports;d()(p,{VApp:h["a"],VMain:m["a"]});var v=n("9483");Object(v["a"])("".concat("/charmbo/","service-worker.js"),{ready:function(){console.log("App is being served from cache by a service worker.\nFor more details, visit https://goo.gl/AFskqB")},registered:function(){console.log("Service worker has been registered.")},cached:function(){console.log("Content has been cached for offline use.")},updatefound:function(){console.log("New content is downloading.")},updated:function(){console.log("New content is available; please refresh.")},offline:function(){console.log("No internet connection found. App is running in offline mode.")},error:function(e){console.error("Error during service worker registration:",e)}});n("d3b7"),n("3ca3"),n("ddb0"),n("b0c0");var b=n("8c4f"),k=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("hello-world")},w=[],y=function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("v-container",[o("v-row",{staticClass:"text-center"},[o("v-col",{attrs:{cols:"12"}},[o("v-img",{staticClass:"my-3",attrs:{src:n("9b19"),contain:"",height:"200"}})],1),o("v-col",{staticClass:"mb-4"},[o("h1",{staticClass:"display-2 font-weight-bold mb-3"},[e._v(" Welcome to Vuetify ")]),o("p",{staticClass:"subheading font-weight-regular"},[e._v(" For help and collaboration with other Vuetify developers, "),o("br"),e._v("please join our online "),o("a",{attrs:{href:"https://community.vuetifyjs.com",target:"_blank"}},[e._v("Discord Community")])])]),o("v-col",{staticClass:"mb-5",attrs:{cols:"12"}},[o("h2",{staticClass:"headline font-weight-bold mb-3"},[e._v(" What's next? ")]),o("v-row",{attrs:{justify:"center"}},e._l(e.whatsNext,(function(t,n){return o("a",{key:n,staticClass:"subheading mx-3",attrs:{href:t.href,target:"_blank"}},[e._v(" "+e._s(t.text)+" ")])})),0)],1),o("v-col",{staticClass:"mb-5",attrs:{cols:"12"}},[o("h2",{staticClass:"headline font-weight-bold mb-3"},[e._v(" Important Links ")]),o("v-row",{attrs:{justify:"center"}},e._l(e.importantLinks,(function(t,n){return o("a",{key:n,staticClass:"subheading mx-3",attrs:{href:t.href,target:"_blank"}},[e._v(" "+e._s(t.text)+" ")])})),0)],1),o("v-col",{staticClass:"mb-5",attrs:{cols:"12"}},[o("h2",{staticClass:"headline font-weight-bold mb-3"},[e._v(" Ecosystem ")]),o("v-row",{attrs:{justify:"center"}},e._l(e.ecosystem,(function(t,n){return o("a",{key:n,staticClass:"subheading mx-3",attrs:{href:t.href,target:"_blank"}},[e._v(" "+e._s(t.text)+" ")])})),0)],1)],1)],1)},T=[],x={name:"HelloWorld",data:function(){return{ecosystem:[{text:"vuetify-loader",href:"https://github.com/vuetifyjs/vuetify-loader"},{text:"github",href:"https://github.com/vuetifyjs/vuetify"},{text:"awesome-vuetify",href:"https://github.com/vuetifyjs/awesome-vuetify"}],importantLinks:[{text:"Documentation",href:"https://vuetifyjs.com"},{text:"Chat",href:"https://community.vuetifyjs.com"},{text:"Made with Vuetify",href:"https://madewithvuejs.com/vuetify"},{text:"Twitter",href:"https://twitter.com/vuetifyjs"},{text:"Articles",href:"https://medium.com/vuetify"}],whatsNext:[{text:"Explore components",href:"https://vuetifyjs.com/components/api-explorer"},{text:"Select a layout",href:"https://vuetifyjs.com/getting-started/pre-made-layouts"},{text:"Frequently Asked Questions",href:"https://vuetifyjs.com/getting-started/frequently-asked-questions"}]}}},_=x,A=n("62ad"),P=n("a523"),C=n("adda"),S=n("0fd9"),j=Object(f["a"])(_,y,T,!1,null,null,null),O=j.exports;d()(j,{VCol:A["a"],VContainer:P["a"],VImg:C["a"],VRow:S["a"]});var I={name:"Home",components:{HelloWorld:O}},R=I,L=Object(f["a"])(R,k,w,!1,null,null,null),$=L.exports,E=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"max-width index-container"},[n("div",[n("div",[n("v-icon",{attrs:{"x-large":""},on:{click:function(t){return e.$router.push({name:"profile"})}}},[e._v(" mdi-account ")]),n("v-icon",{staticClass:"float-right",attrs:{"x-large":""},on:{click:e.toChatList}},[e._v(" mdi-chat ")])],1),n("p",[e._v("歡迎回來")]),n("v-avatar",{attrs:{size:"150"}},[n("v-img",{staticClass:"rounded-circle",attrs:{src:e.getImg}})],1),n("p",[e._v(e._s(e.userName))]),n("v-btn",{attrs:{color:"error"},on:{click:function(t){return e.$router.push({name:"pair"})}}},[e._v("配對")]),n("v-btn",{attrs:{color:"error"},on:{click:function(t){return e.$router.push({name:"onboarding"})}}},[e._v("Onboarding")]),n("v-btn",{attrs:{color:"error"},on:{click:e.logout}},[e._v("登出")])],1),n("footer-bar",{attrs:{activeTab:"pair"}})],1)},U=[],M=n("fd2d"),H={components:{FooterBar:M["a"]},data:function(){return{nickname:"這裡放暱稱?"}},computed:{userName:function(){return this.$store.state.userinfo.userName},getImg:function(){var e=this.$store.state.userinfo;if(e&&e.pictures&&e.pictures.main&&e.pictures.main.url)return e.pictures.main.url;var t=e._id||"1234567890abcdef".charAt(Math.floor(16*Math.random())),o=e.sex;"undefined"!=typeof o&&null!=o||(o="01".charAt(Math.floor(2*Math.random())));var i=0==o?"g":"b",a=t.charAt(t.length-1);return e.pictures.main.url=n("2cbd")("./"+i+a+".svg"),e.pictures.main.url}},methods:{logout:function(){var e=this;this.$socket.client.disconnect(),window.socketConnect=!1,this.$store.dispatch("actionLogout").then((function(){e.$router.push({name:"login"})}))},toChatList:function(){this.$router.push({name:"chatList"})}}},N=H,D=(n("8fc1"),n("8212")),B=n("8336"),z=n("132d"),F=Object(f["a"])(N,E,U,!1,null,null,null),V=F.exports;d()(F,{VAvatar:D["a"],VBtn:B["a"],VIcon:z["a"],VImg:C["a"]}),o["a"].use(b["a"]);var q=[{path:"/",name:"index",component:V},{path:"/home",name:"home",component:$},{path:"/about",name:"About",component:function(){return n.e("about").then(n.bind(null,"f8200"))}},{path:"/login",name:"login",component:function(){return Promise.all([n.e("chunk-7f16fb8f"),n.e("chunk-6e20bed7"),n.e("chunk-548dc5b9"),n.e("chunk-5976137e")]).then(n.bind(null,"a55b"))}},{path:"/onboarding",name:"onboarding",component:function(){return Promise.all([n.e("chunk-7f16fb8f"),n.e("chunk-6e20bed7"),n.e("chunk-548dc5b9"),n.e("chunk-97708fe8")]).then(n.bind(null,"4677"))}},{path:"/profile",name:"profile",component:function(){return Promise.all([n.e("chunk-798c603b"),n.e("chunk-e1d35382")]).then(n.bind(null,"c66d"))}},{path:"/setting",name:"setting",component:function(){return n.e("chunk-3a02ed3b").then(n.bind(null,"4ef5"))}},{path:"/interest-setting",name:"interestSetting",component:function(){return n.e("chunk-def8c8ea").then(n.bind(null,"cd77"))}},{path:"/photoeditor",name:"photoEditor",component:function(){return n.e("chunk-40c5c0b8").then(n.bind(null,"43e4"))}},{path:"/pair",name:"pair",component:function(){return Promise.all([n.e("chunk-7f16fb8f"),n.e("chunk-798c603b"),n.e("chunk-1e2fc82e"),n.e("chunk-791cca1d")]).then(n.bind(null,"6372"))}},{path:"/achievement",name:"achievement",component:function(){return n.e("chunk-211848c6").then(n.bind(null,"a865"))}},{path:"/chatlist",name:"chatList",component:function(){return n.e("chunk-043a9f70").then(n.bind(null,"e466"))}},{path:"/chatroom",name:"chatRoom",component:function(){return Promise.all([n.e("chunk-7f16fb8f"),n.e("chunk-798c603b"),n.e("chunk-6e20bed7"),n.e("chunk-1e2fc82e"),n.e("chunk-95c548ec")]).then(n.bind(null,"bf48"))}}],W=new b["a"]({routes:q});W.beforeEach((function(e,t,n){console.log("to",e),"index"==e.name&&e.query.token||"testAdmin"==e.name||"login"===e.name||null!=window.$cookies.get("auth")&&"null"!=window.$cookies.get("auth")?n():n({name:"login"})}));var J=W,K=n("2909"),Q=(n("b64b"),n("4de4"),n("99af"),n("4e827"),n("c740"),n("159b"),n("7db0"),n("2f62")),G=n("bc3a"),X=n.n(G);o["a"].use(Q["a"]);var Y=new Q["a"].Store({state:{userinfo:null,chatRoom:[],charmboRoom:{_id:"charmbo",userName:"Charmbo 通知",pictures:{main:{url:"https://i.imgur.com/i7bqyHK.png"},others:[]},message:[]}},mutations:{setUserinfo:function(e,t){if(t&&0!=Object.keys(t).length&&"null"!=t){t.userName||(t.userName="unknow",t.name&&t.name.nickName&&(t.userName=t.name.nickName)),t.interestlist||(t.interestlist=[]);var n=t,o=n._id,i=n.userName,a=n.token,r=n.sex,s=n.pictures;window.$cookies.set("auth",{_id:o,userName:i,token:a,sex:r,pictures:s})}else window.$cookies.set("auth",null),t=null;e.userinfo=t},clearUserinfo:function(e){window.$cookies.remove("auth"),e.chatRoom=[],e.userinfo=null},saveChatRoomRecords:function(e,t){if(0!=e.chatRoom.length)if(t.historyMsgs){var n=e.chatRoom.filter((function(e){return e._id==t.friendsId}))[0].message;e.chatRoom.filter((function(e){return e._id==t.friendsId}))[0].message=[].concat(Object(K["a"])(t.historyMsgs),Object(K["a"])(n))}else e.chatRoom.filter((function(e){return e._id==t.friendsId}))[0].message.push(t.data),e.chatRoom.sort((function(e,t){if(e.pinned&&!t.pinned)return-1;if(!e.pinned&&t.pinned)return 1;if(0==e.message.length)return 1;if(0==t.message.length)return-1;var n=new Date(e.message[e.message.length-1].createdAt),o=new Date(t.message[t.message.length-1].createdAt);return o-n}))},saveTypingToChatRoom:function(e,t){if(0!==e.chatRoom.length){var n=e.chatRoom.findIndex((function(e){return e._id==t.sender}));n>=0&&o["a"].set(e.chatRoom[n],"isTyping",t.isTyping)}},setRoomData:function(e,t){e.chatRoom!=[]&&e.chatRoom.length==t.length||(e.chatRoom=t,e.chatRoom.forEach((function(e){void 0===e.pinned&&o["a"].set(e,"pinned",!1),void 0===e.isTyping&&o["a"].set(e,"isTyping",!1),void 0===e.unread&&o["a"].set(e,"unread",!1),void 0===e.onlineStatus&&o["a"].set(e,"onlineStatus",!1),void 0===e.isLeft&&o["a"].set(e,"isLeft",!1)})),e.chatRoom.sort((function(e,t){if(e.pinned&&!t.pinned)return-1;if(!e.pinned&&t.pinned)return 1;if(0==e.message.length)return 1;if(0==t.message.length)return-1;var n=new Date(e.message[e.message.length-1].createdAt),o=new Date(t.message[t.message.length-1].createdAt);return o-n})))},setCharmboRoomData:function(e,t){e.charmboRoom.message=t},deleteFriend:function(e,t){e.chatRoom=e.chatRoom.filter((function(e){return e._id!=t}))},setUserPinState:function(e,t){e.chatRoom.find((function(e){return e._id==t.id})).pinned=t.pinned,e.chatRoom.sort((function(e,t){if(e.pinned&&!t.pinned)return-1;if(!e.pinned&&t.pinned)return 1;if(0==e.message.length)return 1;if(0==t.message.length)return-1;var n=new Date(e.message[e.message.length-1].createdAt),o=new Date(t.message[t.message.length-1].createdAt);return o-n}))},saveOnlineStatus:function(e,t){if(0!==e.chatRoom.length){var n=e.chatRoom.findIndex((function(e){return e._id==t.friendsId}));n>=0&&o["a"].set(e.chatRoom[n],"onlineStatus",t.onlineStatus)}},setUserMainPicture:function(e,t){var n=t.publicId,i=t.url;o["a"].set(e.userinfo.pictures.main,"publicId",n),o["a"].set(e.userinfo.pictures.main,"url",i);var a=e.userinfo,r=a._id,s=a.name,c=a.token,u=a.sex,f=a.pictures;window.$cookies.set("auth",{_id:r,name:s,token:c,sex:u,pictures:f})},setUserOthersPicture:function(e,t){var n=t.publicId,i=t.url,a=t.index;0<=a&&a<4&&(console.log(n,i,a),o["a"].set(e.userinfo.pictures.others[a],"publicId",n),o["a"].set(e.userinfo.pictures.others[a],"url",i));var r=e.userinfo,s=r._id,c=r.name,u=r.token,f=r.sex,l=r.pictures;window.$cookies.set("auth",{_id:s,name:c,token:u,sex:f,pictures:l})},setLastSeenMessageTimeStamp:function(e,t){e.chatRoom.find((function(e){return e._id==t.id})).lastSeenMessageTimeStamp=t.lastSeenMessageTimeStamp}},actions:{actionTestUserLogin:function(e,t){var n=e.commit;return new Promise((function(e,o){var i=window.window.API_HOST+"/test/login/"+t,a={headers:{"Content-Type":"application/json"}};X.a.get(i,a).then((function(t){"Success"==t.data.code?(console.log("token:",t.data.data),n("setUserinfo",t.data.data.userinfo),e(t)):o(t)})).catch((function(e){console.log(e),o(e)}))}))},actionLogout:function(e){var t=e.commit,n=e.state;return new Promise((function(e,o){var i=window.API_HOST+"/auth/signout/",a={headers:{"Content-Type":"application/json",Authorization:"Bearer "+n.userinfo.token.token}};X.a.get(i,a).then((function(n){200===n.status?(t("clearUserinfo",null),e(n)):o(n)})).catch((function(){t("clearUserinfo",null),J.push({name:"login"}).catch((function(e){console.log(e)}))}))}))},actionUserinfo:function(e){var t=e.commit,n=e.state,o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:n.userinfo.token.token;return new Promise((function(e,n){var i=window.API_HOST+"/users/user/",a={headers:{"Content-Type":"application/json",Authorization:"Bearer "+o}};X.a.get(i,a).then((function(o){200===o.status?(t("setUserinfo",o.data),e(o.data)):n(o)})).catch((function(e){console.log(e),J.push({name:"login"}).catch((function(e){console.log(e)}))}))}))},actionFriendinfo:function(e,t){var n=e.state;return new Promise((function(e,o){var i=window.API_HOST+"/friendlists/detail/"+t,a={headers:{"Content-Type":"application/json",Authorization:"Bearer "+n.userinfo.token.token}};X.a.get(i,a).then((function(t){"Success"==t.data.code?e(t.data.data.userinfo):o(t)}))}))},actionPairLike:function(e,t){var n=e.state;return new Promise((function(e,o){var i=window.API_HOST+"/friendlists/like",a={headers:{"Content-Type":"application/json",Authorization:"Bearer "+n.userinfo.token.token}};X.a.patch(i,t,a).then((function(t){200===t.status?e(t):o(t)})).catch((function(e){console.log(e),J.push({name:"login"}).catch((function(e){console.log(e)}))}))}))},actionPairDislike:function(e,t){var n=e.state;return new Promise((function(e,o){var i=window.API_HOST+"/friendlists/dislike",a={headers:{"Content-Type":"application/json",Authorization:"Bearer "+n.userinfo.token.token}};X.a.patch(i,t,a).then((function(t){200===t.status?e(t):o(t)})).catch((function(e){console.log(e),J.push({name:"login"}).catch((function(e){console.log(e)}))}))}))},actionPairList:function(e,t){var n=e.state;return new Promise((function(e,o){var i=window.API_HOST+"/friendlists/suggested_users",a={headers:{"Content-Type":"application/json",Authorization:"Bearer "+n.userinfo.token.token},params:t};X.a.get(i,a).then((function(t){200===t.status?e(t):o(t)})).catch((function(e){console.log(e),J.push({name:"login"}).catch((function(e){console.log(e)}))}))}))},actionFriendList:function(e){var t=e.state,n=e.commit;return new Promise((function(e,o){var i=window.API_HOST+"/friendlists/",a={headers:{"Content-Type":"application/json",Authorization:"Bearer "+t.userinfo.token.token}};X.a.get(i,a).then((function(t){200===t.status?(n("setRoomData",t.data),e(t)):o(t)})).catch((function(e){console.log(e),J.push({name:"login"}).catch((function(e){console.log(e)}))}))}))},actionCharmboMessage:function(e){var t=e.state,n=e.commit;return new Promise((function(e,o){var i=window.API_HOST+"/commonMessege/",a={headers:{"Content-Type":"application/json",Authorization:"Bearer "+t.userinfo.token.token}};X.a.get(i,a).then((function(t){200===t.status?(n("setCharmboRoomData",t.data.data),e(t)):o(t)})).catch((function(e){console.log(e)}))}))},actionUnfriend:function(e,t){var n=e.state,o=e.commit;return new Promise((function(e,i){var a=window.API_HOST+"/friendlists/",r={headers:{"Content-Type":"application/json",Authorization:"Bearer "+n.userinfo.token.token},data:t};X.a.delete(a,r).then((function(n){200===n.status?(o("deleteFriend",t.deleteId),e(n)):i(n)})).catch((function(e){console.log(e)}))}))},actionReceiveMessage:function(e,t){var n=e.commit;return new Promise((function(e){n("saveChatRoomRecords",t),e()}))},actionTyping:function(e,t){var n=e.commit;return new Promise((function(e){n("saveTypingToChatRoom",t),e()}))},actionLoadHistoryMessage:function(e,t){var n=e.state,o=e.commit;return new Promise((function(e){var i=window.API_HOST+"/friendlists/history_messages",a={headers:{"Content-Type":"application/json",Authorization:"Bearer "+n.userinfo.token.token},params:{chatRoomID:t.chatRoomID,lastMessageId:t.lastMessageId}};X.a.get(i,a).then((function(n){200===n.status&&(0!=n.data.message.length&&o("saveChatRoomRecords",t={friendsId:t.friendsId,historyMsgs:n.data.message}),e(n.data.message.length))}))}))},actionUserUpdate:function(e,t){var n=e.state;return new Promise((function(e,o){var i=window.API_HOST+"/users/user",a={headers:{"Content-Type":"application/json",Authorization:"Bearer "+n.userinfo.token.token}};X.a.patch(i,t,a).then((function(t){200===t.status?e(t):o(t)})).catch((function(e){console.log("error",e)}))}))},actionPinUser:function(e,t){var n=e.commit,o=e.state;return console.log(t),new Promise((function(e,i){var a=window.API_HOST+"/friendlists/chatlist/pin",r={headers:{"Content-Type":"application/json",Authorization:"Bearer "+o.userinfo.token.token}};X.a.patch(a,t,r).then((function(o){200===o.status?(n("setUserPinState",t),e(o)):i(o)})).catch((function(e){console.log(e),J.push({name:"login"}).catch((function(e){console.log(e)}))}))}))},actionOnlineStatus:function(e,t){var n=e.commit;return new Promise((function(e){n("saveOnlineStatus",t),e()}))},actionUploadMainPicture:function(e,t){var n=e.commit,o=e.state;return console.log(t),new Promise((function(e,i){var a=window.API_HOST+"/users/user/pictures/upload",r={headers:{"Content-Type":"multipart/form-data",Authorization:"Bearer "+o.userinfo.token.token}},s=new FormData;s.append("picture",t.uploadPicture),s.append("type","MAIN"),X.a.patch(a,s,r).then((function(t){200===t.status?(n("setUserMainPicture",t.data),e(t)):i(t)})).catch((function(e){console.log(e),J.push({name:"login"}).catch((function(e){console.log(e)}))}))}))},actionUploadOthersPicture:function(e,t){var n=e.commit,o=e.state;return console.log(t),new Promise((function(e,i){var a=window.API_HOST+"/users/user/pictures/upload",r={headers:{"Content-Type":"multipart/form-data",Authorization:"Bearer "+o.userinfo.token.token}},s=new FormData;s.append("picture",t.uploadPicture),s.append("type","OTHERS"),s.append("index",t.index),X.a.patch(a,s,r).then((function(t){200===t.status?(n("setUserOthersPicture",t.data),e(t)):i(t)})).catch((function(e){console.log(e),J.push({name:"login"}).catch((function(e){console.log(e)}))}))}))},actionRemovePicture:function(e,t){var n=e.state;return new Promise((function(e,o){var i=window.API_HOST+"/users/user/pictures/remove",a={headers:{"Content-Type":"application/json",Authorization:"Bearer "+n.userinfo.token.token}};X.a.patch(i,t,a).then((function(t){200===t.status?e(t):o(t)})).catch((function(e){console.log(e),J.push({name:"login"}).catch((function(e){console.log(e)}))}))}))},actionSaveLastSeenMessageTimeStamp:function(e,t){var n=e.commit,o=e.state;return console.log(t),new Promise((function(e,i){var a=window.API_HOST+"/friendlists/chatlist/last_seen_message_time_stamp",r={headers:{"Content-Type":"application/json",Authorization:"Bearer "+o.userinfo.token.token}};X.a.patch(a,t,r).then((function(o){200===o.status?(n("setLastSeenMessageTimeStamp",t),e(o)):i(o)})).catch((function(e){console.log(e)}))}))},actionReportUser:function(e,t){var n=e.state;return new Promise((function(e,o){var i=window.API_HOST+"/friendlists/report",a={headers:{"Content-Type":"multipart/form-data",Authorization:"Bearer "+n.userinfo.token.token}},r=new FormData;t.files.forEach((function(e){r.append("images",e)})),r.append("accused",t.accused),r.append("reason",t.reason),r.append("detail",t.detail),X.a.post(i,r,a).then((function(t){200===t.status?e(t):o(t)})).catch((function(e){console.log(e)}))}))}}}),Z=n("2b27"),ee=n.n(Z),te=n("f87c"),ne=n("8e27"),oe=n("f309");o["a"].use(oe["a"]);var ie=new oe["a"]({});o["a"].use(ee.a),window.API_HOST="https://t4-dating-api.azurewebsites.net","localhost"==window.location.hostname&&(window.API_HOST="http://localhost:3000"),"tove-group.github.io"==window.location.hostname&&(window.API_HOST="https://api-charmbo.parsons125.in");var ae=Object(ne["io"])(window.API_HOST,{});o["a"].use(te["a"],ae),Y.commit("setUserinfo",window.$cookies.get("auth")),o["a"].config.productionTip=!1,new o["a"]({router:J,store:Y,vuetify:ie,render:function(e){return e(g)}}).$mount("#app")},"609f":function(e,t,n){e.exports=n.p+"img/g7.e05164e1.svg"},"6f51":function(e,t,n){e.exports=n.p+"img/b2.870494b9.svg"},"760c":function(e,t,n){"use strict";n("c3f5")},"784b":function(e,t,n){e.exports=n.p+"img/b0.27bf3011.svg"},"7a6b":function(e,t,n){e.exports=n.p+"img/bc.e0330fa5.svg"},"85ec":function(e,t,n){},8975:function(e,t,n){e.exports=n.p+"img/bd.829d16bc.svg"},"8d5b":function(e,t,n){e.exports=n.p+"img/b5.2a26a4d9.svg"},"8fc1":function(e,t,n){"use strict";n("9272")},"8fc6":function(e,t,n){e.exports=n.p+"img/gf.ffc7165b.svg"},9245:function(e,t,n){e.exports=n.p+"img/member-active.247e3224.svg"},9272:function(e,t,n){},"93cb":function(e,t,n){e.exports=n.p+"img/g4.e361e128.svg"},"94bb":function(e,t,n){e.exports=n.p+"img/g0.084e077d.svg"},"9b19":function(e,t,n){e.exports=n.p+"img/logo.07d1e22e.svg"},a072:function(e,t,n){e.exports=n.p+"img/g1.b54f8ce2.svg"},aa4d:function(e,t,n){e.exports=n.p+"img/bb.9412eb3b.svg"},ac97:function(e,t,n){e.exports=n.p+"img/gb.2c77af33.svg"},ae71:function(e,t,n){e.exports=n.p+"img/charmbo-active.9ff9345e.svg"},aee2:function(e,t,n){e.exports=n.p+"img/b7.b82c8a8b.svg"},b121:function(e,t,n){e.exports=n.p+"img/g5.b4aedc11.svg"},b2f1:function(e,t,n){e.exports=n.p+"img/b4.9de8a82b.svg"},bfa3:function(e,t,n){e.exports=n.p+"img/member.8bf1123c.svg"},c2cd:function(e,t,n){e.exports=n.p+"img/bf.dad6fb6b.svg"},c3f5:function(e,t,n){},c467:function(e,t,n){e.exports=n.p+"img/b8.a0f969c1.svg"},c552:function(e,t,n){e.exports=n.p+"img/g3.4e855cb8.svg"},c687:function(e,t,n){e.exports=n.p+"img/b6.d3584ad5.svg"},c72a:function(e,t,n){e.exports=n.p+"img/g6.7f75f170.svg"},cccd:function(e,t,n){e.exports=n.p+"img/be.20a6eda9.svg"},d101:function(e,t,n){e.exports=n.p+"img/gd.b9ee968b.svg"},d5ed:function(e,t,n){e.exports=n.p+"img/charmbo.42bccdc1.svg"},d91e:function(e,t,n){e.exports=n.p+"img/ge.dc15cbe4.svg"},eba5:function(e,t,n){e.exports=n.p+"img/chat.f37224d6.svg"},f8df:function(e,t,n){e.exports=n.p+"img/g9.61fc4b7d.svg"},fd2d:function(e,t,n){"use strict";var o=function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("div",{staticClass:"root-box d-flex"},[o("div",{staticClass:"flex-item d-flex align-center justify-center",on:{click:function(t){return e.$router.push({name:"profile"})}}},["profile"===e.activeTab?o("img",{attrs:{src:n("9245")}}):o("img",{attrs:{src:n("bfa3")}})]),o("div",{staticClass:"flex-item d-flex align-center justify-center",on:{click:function(t){return e.$router.push({name:"pair"})}}},["pair"===e.activeTab?o("img",{attrs:{src:n("36a4")}}):o("img",{attrs:{src:n("06f3")}})]),o("div",{staticClass:"flex-item d-flex align-center justify-center",on:{click:function(t){return e.$router.push({name:"achievement"})}}},["achievement"===e.activeTab?o("img",{attrs:{src:n("ae71")}}):o("img",{attrs:{src:n("d5ed")}})]),o("div",{staticClass:"flex-item d-flex align-center justify-center",on:{click:function(t){return e.$router.push({name:"chatList"})}}},["chatList"===e.activeTab?o("img",{attrs:{src:n("1ee5")}}):o("img",{attrs:{src:n("eba5")}})])])},i=[],a={props:{activeTab:{type:String,require:!0}},data:function(){return{}},components:{}},r=a,s=(n("760c"),n("2877")),c=Object(s["a"])(r,o,i,!1,null,null,null);t["a"]=c.exports}});
//# sourceMappingURL=app.c18846d3.js.map